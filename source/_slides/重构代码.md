---
title: 重构代码
theme: solarized
revealOptions:
  transition: fade
date: 2019-08-02 12:27:11
---

## 重构的基本要求

保证系统的每个接口在改造前后是等价的

---

## 测试的目标

实现自动化测试, 从而保证重构后与原来的系统一致,

----

## 实际情况

- 维护的项目根本不存在自动化测试
- 在现实中, 往往需要先手动测试, 之后逐步引入自动测试

---

## 大布局与小步快跑

- 提前设计能够解决一部分问题
- 很多问题在编写过程中才会发现
- 保持小步的修改迭代, 每次只完成一个小任务

---

## 重构的两个阶段

1. 只重构不增加新功能
2. 为系统添加新功能

---

## 重构的层次

1. 方法的重构
2. 对象的重构
3. 对象间的重构
4. 继承体系之间的重构
5. 组织数据的重构
6. 体系架构的重构